<?xml version="1.0"?>
<map proto="1.4.0">
    <name>Terricreus</name>
    <version>1.1.0</version>
    <objective>Bring the opposing team's wool back to your team's spawn.</objective>
    <authors>
        <author uuid="6bec5c3a-4934-4b19-9aa8-c7c569820f7d"/> <!-- Claf -->
    </authors>
    <contributors>
        <contributor uuid="a23a1d91-7e97-40b4-8f5e-1ab82d8f5ade" contribution="XML Fixes"/> <!--  chle_  -->
        <contributor uuid="dff980ed-9f69-491e-b79c-30c21350baf2" contribution="XML Fixes"/> <!-- DoomyBoy -->
    </contributors>
    <time result="objectives">30m</time>
    <teams>
        <team id="red-team" color="red" max="5">Red</team>
        <team id="blue-team" color="blue" max="5">Blue</team>
    </teams>
    <respawn delay="5s" auto="true" blackout="true"/>
    <kits>
     <kit name="spawn" force="true">
        <item slot="0">stone sword</item>
        <item slot="1" unbreakable="true">bow</item>
        <item slot="2" unbreakable="true" enchantment="durability:3">iron pickaxe</item>
        <item slot="3"  unbreakable="true" enchantment="durability:1;dig speed:1">stone axe</item>
        <item slot="4" amount="16">cooked fish</item>
        <item slot="5" amount="24">smooth brick</item>
        <item slot="6" amount="4" damage="2">wood</item>
        <item slot="8" amount="32">arrow</item>
        <potion duration="5" amplifier="1">heal</potion>
        <chestplate unbreakable="true">chainmail chestplate</chestplate>
        <leggings unbreakable="true">chainmail leggings</leggings>
     </kit>
     <kit name="red" parents="spawn">
            <helmet color="cd0000" unbreakable="true">leather helmet</helmet>
            <boots color="cd0000" unbreakable="true">leather boots</boots>
        </kit>
     <kit name="blue" parents="spawn">
            <helmet color="0066cc" unbreakable="true">leather helmet</helmet>
            <boots color="0066cc" unbreakable="true">leather boots</boots>
     </kit>
    </kits>
    <itemremove>
        <item>stained clay</item>
        <item>sandstone</item>
        <item>nether brick</item>
        <item>ender stone</item>
        <item>nether brick stairs</item>
        <item>nether fence</item>
        <item>step:6</item>
        <item>dark oak stairs</item>
        <item>wood step:5</item>
        <item>log 2:1</item>
        <item>wood:2</item>
        <item>birch wood stairs</item>
        <item>wood step:2</item>
        <item>dark oak fence</item>
        <item>sand</item>
        <item>stone sword</item>
        <item>bow</item>
        <item>iron pickaxe</item>
        <item>stone axe</item>
        <item>arrow</item>
        <item>leather helmet</item>
        <item>leather boots</item>
        <item>chainmail chestplate</item>
        <item>chainmail leggings</item>
    </itemremove>
    <maxbuildheight>28</maxbuildheight>
    <spawns>
        <default>
            <regions yaw="0">
                <cuboid min="166.5,5,92.5" max="166.5,5,92.5"/>
            </regions>
        </default>
        <spawn team="red-team" kit="red">
            <regions yaw="180">
                <block>163.5,5,37.5</block>
            </regions>
        </spawn>
        <spawn team="blue-team" kit="blue">
            <regions yaw="0">
                <block>163.5,5,147.5</block>
            </regions>
        </spawn>
    </spawns>
    <filters>
        <team id="only-red">red-team</team>
        <team id="only-blue">blue-team</team>
        <all id="only-red-some">
            <team>red-team</team>
            <any>
                <material>nether fence</material>
                <material>dark oak stairs</material>
                <material>wood step:5</material>
                <material>log 2:1</material>
                <material>wood</material>
                <material>smooth brick</material>
                <material>wool</material>
            </any>
        </all>
        <all id="only-blue-some">
            <team>blue-team</team>
            <any>
                <material>nether fence</material>
                <material>dark oak stairs</material>
                <material>wood step:5</material>
                <material>log 2:1</material>
                <material>wood</material>
                <material>smooth brick</material>
                <material>wool</material>
            </any>
        </all>
        <any id="allow-some">
            <material>nether fence</material>
            <material>dark oak stairs</material>
            <material>wood step:5</material>
            <material>log 2:1</material>
            <material>wood</material>
            <material>smooth brick</material>
            <material>wool</material>
        </any>
        <not id="deny-some">
            <any>
                <material>nether brick</material>
                <material>step:1</material>
                <material>sandstone stairs</material>
            </any>
        </not>
    </filters>
    <regions>
        <!--This encompasses the entire pillar of the spawn and wool room-->
        <cuboid id="cyanWoolRedSpawn" min="169,0,42" max="160,21,33"/>
        <cuboid id="greenWoolBlueSpawn" min="169,0,143" max="160,21,152"/>
        <!--Spawns-->
        <cuboid id="blueSpawn" min="167,0,151" max="160,11,143"/>
        <cuboid id="redSpawn" min="167,0,33" max="160,11,41"/>
        <!--Wools-->
        <union id="wools">
            <cuboid id="cyanWool" min="161,21,41" max="168,28,34"/> <!--Blue needs this-->
            <cuboid id="greenWool" min="161,21,144" max="168,28,151"/> <!--Red needs this-->
        </union>
        <!-- Spawners that players cannot break-->
        <union id="spawners">
            <cuboid id="arrowSpawner" min="181,13,91" max="183,12,93"/>
            <cuboid id="goldenAppleSpawner" min="166,3,92" max="166,3,92"/>
        </union>
        <negative id="yes-void">
            <intersect>
                <union id="void-areas">
                    <cuboid min="146,8,33" max="159,18,40"/>
                    <cuboid min="155,8,42" max="159,18,40"/>
                    <cuboid min="146,8,152" max="159,18,145"/>
                    <cuboid min="155,8,143" max="159,18,145"/>
                    <rectangle min="146,168" max="187,16"/> <!--Covers entire map-->
                    <rectangle min="155,145" max="146,40"/>
                    <rectangle min="187,47" max="178,42"/>
                    <rectangle min="170,33" max="187,42"/>
                    <rectangle min="187,138" max="178,143"/>
                    <rectangle min="170,143" max="187,152"/>
                    <rectangle min="187,33" max="178,16"/>
                    <rectangle min="160,22" max="177,16"/>
                    <rectangle min="160,23" max="166,29"/>
                    <rectangle min="187,151" max="178,168"/>
                    <rectangle min="177,168" max="160,162"/>
                    <rectangle min="160,161" max="166,156"/>
                </union>
                <below y="18"/>
            </intersect>
        </negative>
        <complement id="yes-void-minus-some">
            <region id="yes-void"/>
            <region id="cyanWool"/>
            <region id="greenWool"/>
            <rectangle min="186,151" max="167,143"/> <!--Players are able to staircase up to the wool-->
            <rectangle min="186,41" max="167,33"/>
        </complement>
        <!--Spawn Enter Protection-->
        <apply enter="only-red" message="You cannot enter the opponent's spawn!" region="redSpawn"/>
        <apply enter="only-blue" message="You cannot enter the opponent's spawn!" region="blueSpawn"/>
        <!--Wool Enter Protection-->
        <apply enter="only-red" message="You cannot enter your own wool room!" region="greenWool"/>
        <apply enter="only-blue" message="You cannot enter your own wool room!" region="cyanWool"/>
        <!--Spawner Protection-->
        <apply block="never" message="You cannot edit golden apple or arrow spawners!" region="spawners"/>
        <!--Pillar Containing Wool Room and Spawn needs Edit Protection-->
        <apply block="never" message="You cannot edit the wool rooms or spawns!">
            <region>
                <region id="cyanWoolRedSpawn"/>
                <region id="greenWoolBlueSpawn"/>
            </region>
        </apply>
        <!--Void protection-->
        <apply block="never" message="You may not modify blocks outside the playing area!" region="yes-void-minus-some"/>
        <apply block="only-red-some" region="greenWool" message="Only Red may destroy wood and nether brick fences here."/>
        <apply block="only-blue-some" region="cyanWool" message="Only Blue may destroy wood and nether brick fences here."/>
    </regions>
    <wools>
        <wool team="red-team" color="green" location="164,20,147">
            <monument>
                <block>163,6,39</block>
            </monument>
        </wool>
        <wool team="blue-team" color="cyan" location="164,20,37">
            <monument>
                <block>163,6,145</block>
            </monument>
        </wool>
    </wools>
    <kill-rewards>
        <kill-reward>
            <item amount="6" damage="2" material="wood"/>
            <potion duration="7s" amplifier="2">regeneration</potion>
        </kill-reward>
    </kill-rewards>
    <renewables>
        <renewable interval="30s" particles="true" sound="true" avoid-players="0">
            <region>
                <cuboid min="184,5,90" max="182,6,94"/>
            </region>
            <renew>iron block</renew>
        </renewable>
    </renewables>
    <!--
     <block-drops>
        <rule>
            <filter>
                <material>gold block</material>
            </filter>
            <drops>
                <item material="diamond chestplate"/>
            </drops>
        </rule>
    </block-drops>
    -->
</map>